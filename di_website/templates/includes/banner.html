{% load wagtailcore_tags wagtailimages_tags responsive %}

<div class="banner">
    <div class="l-banner">
        <div class="l-banner__aside">
            <div class="banner__media">
                <div class="media-wrapper">
                    {% if self.video %}
                    {{ self.video }}
                    {% endif %}

                    {% if self.image %}
                    {% responsiveimage self.image fill-460x260 srcset=global.banner_srcs alt='alt image' %}
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="l-banner__main">
            <p class="banner__excerpt">{{ self.text }}</p>
            <span class="banner__meta">{{ self.meta }}</span>

            {% if self.buttons %}
            {% for button in self.buttons %}
            {% if button.value.page %}
            <a href="{% pageurl button.value.page %}" class="button button--reverse">
                {% if button.value.caption %}
                {{ button.value.caption }}
                {% else %}
                {{ button.value.page.title }}
                {% endif %}
            </a>
            {% elif button.value.url %}
            <a href="{{ button.value.url }}" class="button button--reverse">
                {{ button.value.caption }}
            </a>
            {% endif %}
            {% endfor %}
            {% endif %}
        </div>
    </div>
</div>
